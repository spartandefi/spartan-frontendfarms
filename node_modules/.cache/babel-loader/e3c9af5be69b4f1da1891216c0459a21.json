{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport multicall from 'utils/multicall';\nimport { getMasterChefAddress } from 'utils/addressHelpers';\nimport masterChefABI from 'config/abi/masterchef.json';\nimport { farmsConfig } from 'config/constants';\nimport useRefresh from './useRefresh';\n\nconst useAllEarnings = () => {\n  _s();\n\n  const [balances, setBalance] = useState([]);\n  const {\n    account\n  } = useWallet();\n  const {\n    fastRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchAllBalances = async () => {\n      const calls = farmsConfig.map(farm => ({\n        address: getMasterChefAddress(),\n        name: 'pendingGoblin',\n        params: [farm.pid, account]\n      }));\n      const res = await multicall(masterChefABI, calls);\n      setBalance(res);\n    };\n\n    if (account) {\n      fetchAllBalances();\n    }\n  }, [account, fastRefresh]);\n  return balances;\n};\n\n_s(useAllEarnings, \"6FtX+V2CWQoYKD5YqEReNY4Atec=\", false, function () {\n  return [useWallet, useRefresh];\n});\n\nexport default useAllEarnings;","map":{"version":3,"sources":["/Users/samuelchng/spartandefi/spartan-frontendfarms/src/hooks/useAllEarnings.ts"],"names":["useEffect","useState","useWallet","multicall","getMasterChefAddress","masterChefABI","farmsConfig","useRefresh","useAllEarnings","balances","setBalance","account","fastRefresh","fetchAllBalances","calls","map","farm","address","name","params","pid","res"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,+BAA1B;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAASC,oBAAT,QAAqC,sBAArC;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,QAAD,EAAWC,UAAX,IAAyBT,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAmCT,SAAS,EAAlD;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAkBL,UAAU,EAAlC;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMa,gBAAgB,GAAG,YAAY;AACnC,YAAMC,KAAK,GAAGR,WAAW,CAACS,GAAZ,CAAiBC,IAAD,KAAW;AACvCC,QAAAA,OAAO,EAAEb,oBAAoB,EADU;AAEvCc,QAAAA,IAAI,EAAE,eAFiC;AAGvCC,QAAAA,MAAM,EAAE,CAACH,IAAI,CAACI,GAAN,EAAWT,OAAX;AAH+B,OAAX,CAAhB,CAAd;AAMA,YAAMU,GAAG,GAAG,MAAMlB,SAAS,CAACE,aAAD,EAAgBS,KAAhB,CAA3B;AAEAJ,MAAAA,UAAU,CAACW,GAAD,CAAV;AACD,KAVD;;AAYA,QAAIV,OAAJ,EAAa;AACXE,MAAAA,gBAAgB;AACjB;AACF,GAhBQ,EAgBN,CAACF,OAAD,EAAUC,WAAV,CAhBM,CAAT;AAkBA,SAAOH,QAAP;AACD,CAxBD;;GAAMD,c;UAEqCN,S,EACjBK,U;;;AAuB1B,eAAeC,cAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\r\nimport multicall from 'utils/multicall'\r\nimport { getMasterChefAddress } from 'utils/addressHelpers'\r\nimport masterChefABI from 'config/abi/masterchef.json'\r\nimport { farmsConfig } from 'config/constants'\r\nimport useRefresh from './useRefresh'\r\n\r\nconst useAllEarnings = () => {\r\n  const [balances, setBalance] = useState([])\r\n  const { account }: { account: string } = useWallet()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchAllBalances = async () => {\r\n      const calls = farmsConfig.map((farm) => ({\r\n        address: getMasterChefAddress(),\r\n        name: 'pendingGoblin',\r\n        params: [farm.pid, account],\r\n      }))\r\n\r\n      const res = await multicall(masterChefABI, calls)\r\n\r\n      setBalance(res)\r\n    }\r\n\r\n    if (account) {\r\n      fetchAllBalances()\r\n    }\r\n  }, [account, fastRefresh])\r\n\r\n  return balances\r\n}\r\n\r\nexport default useAllEarnings\r\n"]},"metadata":{},"sourceType":"module"}